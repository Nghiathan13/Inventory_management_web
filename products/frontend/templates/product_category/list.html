{% extends 'partials/base.html' %}
<!--  -->
{% load static %}
<!--  -->
{% block extracss %}
<link rel="stylesheet" href="{% static 'products/css/product.css' %}" />
<link rel="stylesheet" href="{% static 'product_category/css/product_category.css' %}" />
{% endblock %}
<!--  -->
{% block title %} Product Categories {% endblock %}
<!--  -->
{% block content %}
<div class="container">{% include '_product_nav.html' %}</div>
<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-header bg-light">
      <div class="d-flex justify-content-between align-items-center">
        <h4><i class="fas fa-sitemap me-2"></i>All Product Categories</h4>
        <a href="{% url 'products:category_add' %}" class="btn btn-primary">
          <i class="fas fa-plus me-1"></i> New
        </a>
      </div>
    </div>
    <div class="card-body">
      {% if messages %}{% for message in messages %}
      <div
        class="alert alert-{{ message.tags }} alert-dismissible fade show"
        role="alert"
      >
        {{ message }}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% endfor %}{% endif %}
      <div class="table-responsive table-container">
        <table class="table table-hover table-bordered align-middle">
          <thead class="thead-light">
            <tr>
              <th class="col-category-name">Category Name</th>
              <th class="col-category-parent">Parent Category</th>
              <th class="col-description">Description</th>
              <th class="text-center col-actions">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for category in categories %}
            <tr>
              <td class="col-category-name">
                <strong>{{ category.name }}</strong>
              </td>
              <td class="col-category-parent">{{ category.parent.name|default:"--" }}</td>
              <td class="col-description text-start">
                {{ category.description|truncatewords:15|default:"--" }}
              </td>
              <td class="col-actions text-center action-buttons">
                <a
                  href="{% url 'products:category_detail' category.id %}"
                  class="btn btn-info btn-sm"
                  data-bs-toggle="tooltip"
                  title="View Details"
                  ><i class="fas fa-eye"></i
                ></a>
                <a
                  href="{% url 'products:category_edit' category.id %}"
                  class="btn btn-primary btn-sm"
                  data-bs-toggle="tooltip"
                  title="Edit"
                  ><i class="fas fa-pen"></i
                ></a>
                <a
                  href="{% url 'products:category_delete' category.id %}"
                  class="btn btn-danger btn-sm"
                  data-bs-toggle="tooltip"
                  title="Delete"
                  ><i class="fas fa-trash"></i
                ></a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="4" class="text-center p-4">No product categories found.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
