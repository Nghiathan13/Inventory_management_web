{% extends 'partials/base.html' %}
<!--  -->
{% load static %}
<!--  -->
{% block extracss %}
<link rel="stylesheet" href="{% static 'css/dashboard/odoo_form.css' %}" />
{% endblock %}
<!--  -->
{% block title %} UoM Category: {{ category.name }} {% endblock %}
<!--  -->
{% block content %}
<div class="container mt-4 odoo-form-view">
  <!-- Thanh hành động -->
  <div class="odoo-form-header">
    <a
      href="{% url 'dashboard-uom-category-edit' category.id %}"
      class="btn btn-primary"
      >EDIT</a
    >
    <a href="{% url 'dashboard-uom-category-list' %}" class="btn btn-secondary"
      >BACK TO LIST</a
    >
  </div>

  <!-- Tiêu đề và breadcrumb -->
  <div class="odoo-form-title">
    <nav aria-label="breadcrumb" class="bg-transparent p-0">
      <ol class="breadcrumb bg-transparent p-0">
        <li class="breadcrumb-item">
          <a href="{% url 'dashboard-uom-category-list' %}">UoM Categories</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
          {{ category.name }}
        </li>
      </ol>
    </nav>
  </div>

  <!-- Form sheet -->
  <div class="odoo-form-sheet">
    <div class="mb-3">
      <h5>Description</h5>
      <p class="text-muted">
        {{ category.description|linebreaksbr|default:"No description provided."
        }}
      </p>
    </div>
    <hr />

    <ul class="nav nav-tabs">
      <li class="nav-item"><a class="nav-link active">Units of Measure</a></li>
    </ul>
    <div class="tab-content pt-3">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Unit of Measure</th>
              <th>Type</th>
              <th>Active</th>
              <th class="text-center">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for uom in category.uoms.all %}
            <tr
              class="{% if uom.uom_type == 'reference' %}table-primary{% endif %}"
            >
              <td>{{ uom.name }}</td>
              <td>{{ uom.get_uom_type_display }}</td>
              <td class="text-center">
                {% if uom.active %}
                <i class="fas fa-check-circle text-success"></i>
                {% else %}
                <i class="fas fa-times-circle text-danger"></i>
                {% endif %}
              </td>
              <td class="text-center">
                <a
                  href="{% url 'dashboard-uom-edit' uom.id %}"
                  class="btn btn-link btn-sm p-0"
                  >Edit</a
                >
              </td>
            </tr>
            {% endfor %}
            <tr>
              <td colspan="4">
                <!-- Nút này sẽ đưa đến trang tạo UoM mới và tự động điền sẵn category này -->
                <a
                  href="{% url 'dashboard-uom-add' %}?category={{ category.id }}"
                  class="btn btn-link p-0"
                  >Add a Unit</a
                >
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
